---
date: 2025-12-21
description: Узнайте, как создать векторный слой, задать допуск линейризации и добавить
  объект в слой с помощью Aspose.GIS для .NET. Следуйте этому пошаговому руководству,
  чтобы экспортировать файлы GeoJSON.
linktitle: Set Linearization Tolerance
second_title: Aspose.GIS .NET API
title: Создать векторный слой и задать допуск линеаризации с помощью Aspose.GIS для
  .NET
url: /ru/net/geometry-processing/set-linearization-tolerance/
weight: 17
---

{{< blocks/products/pf/main-wrap-class >}}
{{< blocks/products/pf/main-container >}}
{{< blocks/products/pf/tutorial-page-section >}}

# Создание векторного слоя и установка допуска линейризации с помощью Aspose.GIS для .NET

## Введение
Если вам нужно **создать векторный слой** файлов, контролировать точность кривых и экспортировать результат в виде документа GeoJSON, Aspose.GIS для .NET делает это простым. В этом учебнике вы узнаете, как настроить параметры GeoJSON, установить допуск линейризации и **добавить объект в слой** — всё это при чистом и готовом к продакшену коде.

## Быстрые ответы
- **Что значит “создать векторный слой”?** Это создаёт новый GIS‑векторный набор данных (например, файл GeoJSON), который может хранить геометрии и атрибуты.  
- **Как установить допуск?** Используйте свойство `LinearizationTolerance` класса `GeoJsonOptions`.  
- **Можно ли экспортировать файл GeoJSON?** Да — просто создайте `VectorLayer` с драйвером `Drivers.GeoJson`.  
- **Нужна ли лицензия?** Действительная лицензия Aspose.GIS разблокирует все функции; временная лицензия подходит для оценки.  
- **Какие версии .NET поддерживаются?** .NET Framework 4.5+, .NET Core 3.1+, .NET 5/6/7.

## Что значит “создать векторный слой”?
Создание векторного слоя означает инициализацию нового GIS‑контейнера (например, файла GeoJSON), который может хранить геометрические объекты, такие как точки, линии и полигоны. Этот слой становится целью для любой создаваемой геометрии и прикрепляемых атрибутов.

## Почему нужно настраивать параметры GeoJSON?
Настройка параметров GeoJSON — особенно **допуска линейризации** — гарантирует, что криволинейные геометрии (например, `CircularString`) будут аппроксимированы с точностью, соответствующей требованиям вашего приложения. Этот шаг важен, когда вы позже **экспортируете файл GeoJSON** для использования в веб‑картах или пространственном анализе.

## Предварительные требования
Прежде чем начать, убедитесь, что у вас есть:

1. **Visual Studio** установлен (любая современная версия).  
2. **Лицензия Aspose.GIS** (или временный ключ оценки).  
3. Библиотека **Aspose.GIS for .NET** загружена и подключена к вашему проекту.  
4. Базовые знания **C#**.

## Импорт пространств имён
Сначала импортируйте необходимые пространства имён, чтобы компилятор знал, где находятся GIS‑классы:

```csharp
using Aspose.Gis;
using Aspose.Gis.Formats.GeoJson;
using Aspose.Gis.Geometries;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
```

## Пошаговое руководство

### Шаг 1: Настройка параметров GeoJSON (как установить допуск)
Мы создадим объект `GeoJsonOptions` и укажем Aspose.GIS, насколько близко линейризованная геометрия должна соответствовать исходной кривой.

```csharp
var options = new GeoJsonOptions
{
    // linearized geometry must be within 1e-4 from curve geometry
    LinearizationTolerance = 1e-4,
};
```

### Шаг 2: Определение пути вывода (как экспортировать GeoJSON)
Укажите, куда будет сохранён полученный файл. Замените заполнитель на ваш реальный каталог.

```csharp
string path = "Your Document Directory" + "SpecifyLinearizationTolerance_out.json";
```

### Шаг 3: **Создание векторного слоя** с настроенными параметрами
Теперь мы действительно **создаём векторный слой** с помощью метода `VectorLayer.Create`. Блок `using` гарантирует корректное освобождение ресурсов.

```csharp
using (VectorLayer layer = VectorLayer.Create(path, Drivers.GeoJson, options))
{
    // Your code here
}
```

### Шаг 4: Создание геометрии (например, circular string)
Здесь мы создаём пример геометрии — `CircularString`. Вы можете заменить её любой допустимой WKT‑строкой.

```csharp
var curveGeometry = Geometry.FromText("CircularString (0 0, 1 1, 2 0)");
```

### Шаг 5: **Добавить объект в слой** и сохранить
Наконец, мы создаём объект, назначаем ему геометрию и добавляем его в слой. Это основа операции **add feature to layer**.

```csharp
var feature = layer.ConstructFeature();
feature.Geometry = curveGeometry;
layer.Add(feature);
```

Когда блок `using` завершится, слой автоматически запишется в файл, указанный в `path`, и вы получите готовый к использованию файл GeoJSON.

## Распространённые проблемы и советы
- **Неправильный путь** — Убедитесь, что каталог существует и у вас есть права записи.  
- **Слишком низкий допуск** — Установка `LinearizationTolerance` в очень маленькое значение может резко увеличить размер файла. Регулируйте в зависимости от требуемой точности.  
- **Ошибки лицензии** — Если появляются предупреждения о лицензировании, проверьте, что файл лицензии загружен до любых вызовов Aspose.GIS.

## Часто задаваемые вопросы

**В: Совместим ли Aspose.GIS для .NET с другими .NET‑фреймворками?**  
О: Да, работает с .NET Framework, .NET Core и .NET 5/6/7.

**В: Можно ли использовать Aspose.GIS в коммерческих проектах?**  
О: Абсолютно. Коммерческая лицензия снимает все ограничения оценки.

**В: Поддерживает ли Aspose.GIS другие GIS‑форматы, помимо GeoJSON?**  
О: Да, поддерживает Shapefile, KML, GML и многие другие.

**В: Есть ли пробная версия?**  
О: Вы можете скачать бесплатную пробную версию с сайта Aspose.

**В: Где получить поддержку?**  
О: Используйте форумы Aspose или ссылку поддержки в разделе ресурсов.

## Заключение
Следуя этим шагам, вы теперь знаете, как **создать векторный слой**, настроить допуск линейризации и **добавить объект в слой** для бесшовного **экспорта файла GeoJSON**. Исследуйте дополнительные типы геометрий и работу с атрибутами, чтобы полностью раскрыть потенциал Aspose.GIS в ваших .NET GIS‑проектах.

{{< /blocks/products/pf/tutorial-page-section >}}

{{< /blocks/products/pf/main-container >}}
{{< /blocks/products/pf/main-wrap-class >}}

{{< blocks/products/products-backtop-button >}}

---

**Последнее обновление:** 2025-12-21  
**Тестировано с:** Aspose.GIS 24.11 for .NET  
**Автор:** Aspose  

---